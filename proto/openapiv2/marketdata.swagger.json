{
  "swagger": "2.0",
  "info": {
    "title": "marketdata.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "MarketDataService"
    },
    {
      "name": "MarketDataStreamService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {},
  "definitions": {
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "v1Candle": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        },
        "interval": {
          "$ref": "#/definitions/v1SubscriptionInterval"
        },
        "open": {
          "$ref": "#/definitions/v1Quotation"
        },
        "high": {
          "$ref": "#/definitions/v1Quotation"
        },
        "low": {
          "$ref": "#/definitions/v1Quotation"
        },
        "close": {
          "$ref": "#/definitions/v1Quotation"
        },
        "volume": {
          "type": "string",
          "format": "int64"
        },
        "time": {
          "type": "string",
          "format": "date-time"
        }
      },
      "description": "Пакет свечей в рамках стрима."
    },
    "v1CandleInstrument": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        },
        "interval": {
          "$ref": "#/definitions/v1SubscriptionInterval"
        }
      },
      "description": "Запрос изменения статус подписки на свечи."
    },
    "v1CandleInterval": {
      "type": "string",
      "enum": [
        "CANDLE_INTERVAL_UNSPECIFIED",
        "CANDLE_INTERVAL_1_MIN",
        "CANDLE_INTERVAL_5_MIN",
        "CANDLE_INTERVAL_15_MIN",
        "CANDLE_INTERVAL_HOUR",
        "CANDLE_INTERVAL_DAY"
      ],
      "default": "CANDLE_INTERVAL_UNSPECIFIED",
      "description": "Интервал свечей."
    },
    "v1CandleSubscription": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        },
        "interval": {
          "$ref": "#/definitions/v1SubscriptionInterval"
        },
        "subscriptionStatus": {
          "$ref": "#/definitions/v1SubscriptionStatus"
        }
      },
      "description": "Статус подписки на свечи."
    },
    "v1GetCandlesResponse": {
      "type": "object",
      "properties": {
        "candles": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1HistoricCandle"
          }
        }
      },
      "description": "Список свечей."
    },
    "v1GetLastPricesResponse": {
      "type": "object",
      "properties": {
        "lastPrices": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1LastPrice"
          }
        }
      },
      "description": "Список последних цен."
    },
    "v1GetOrderBookResponse": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        },
        "depth": {
          "type": "integer",
          "format": "int32"
        },
        "bids": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1Order"
          }
        },
        "asks": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1Order"
          }
        },
        "lastPrice": {
          "$ref": "#/definitions/v1Quotation"
        },
        "closePrice": {
          "$ref": "#/definitions/v1Quotation"
        }
      },
      "description": "Информация о стакане."
    },
    "v1GetTradingStatusResponse": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        },
        "tradingStatus": {
          "$ref": "#/definitions/v1SecurityTradingStatus"
        }
      },
      "description": "Информация о торговом статусе."
    },
    "v1HistoricCandle": {
      "type": "object",
      "properties": {
        "open": {
          "$ref": "#/definitions/v1Quotation"
        },
        "high": {
          "$ref": "#/definitions/v1Quotation"
        },
        "low": {
          "$ref": "#/definitions/v1Quotation"
        },
        "close": {
          "$ref": "#/definitions/v1Quotation"
        },
        "volume": {
          "type": "string",
          "format": "int64"
        },
        "time": {
          "type": "string",
          "format": "date-time"
        },
        "isComplete": {
          "type": "boolean"
        }
      },
      "description": "Информация о свече."
    },
    "v1InfoInstrument": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        }
      },
      "description": "Запрос подписки на торговый статус."
    },
    "v1InfoSubscription": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        },
        "subscriptionStatus": {
          "$ref": "#/definitions/v1SubscriptionStatus"
        }
      },
      "description": "Статус подписки."
    },
    "v1LastPrice": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        },
        "price": {
          "$ref": "#/definitions/v1Quotation"
        },
        "time": {
          "type": "string",
          "format": "date-time"
        }
      },
      "description": "Информация о цене."
    },
    "v1MarketDataResponse": {
      "type": "object",
      "properties": {
        "subscribeCandlesResponse": {
          "$ref": "#/definitions/v1SubscribeCandlesResponse"
        },
        "subscribeOrderBookResponse": {
          "$ref": "#/definitions/v1SubscribeOrderBookResponse"
        },
        "subscribeTradesResponse": {
          "$ref": "#/definitions/v1SubscribeTradesResponse"
        },
        "subscribeInfoResponse": {
          "$ref": "#/definitions/v1SubscribeInfoResponse"
        },
        "candle": {
          "$ref": "#/definitions/v1Candle"
        },
        "trade": {
          "$ref": "#/definitions/v1Trade"
        },
        "orderbook": {
          "$ref": "#/definitions/v1OrderBook"
        },
        "tradingStatus": {
          "$ref": "#/definitions/v1TradingStatus"
        },
        "ping": {
          "$ref": "#/definitions/v1Ping"
        }
      },
      "description": "Пакет биржевой информации по подписке."
    },
    "v1Order": {
      "type": "object",
      "properties": {
        "price": {
          "$ref": "#/definitions/v1Quotation"
        },
        "quantity": {
          "type": "string",
          "format": "int64"
        }
      },
      "description": "Массив предложений/спроса."
    },
    "v1OrderBook": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        },
        "depth": {
          "type": "integer",
          "format": "int32"
        },
        "isConsistent": {
          "type": "boolean"
        },
        "bids": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1Order"
          }
        },
        "asks": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1Order"
          }
        },
        "time": {
          "type": "string",
          "format": "date-time"
        }
      },
      "description": "Пакет стаканов в рамках стрима."
    },
    "v1OrderBookInstrument": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        },
        "depth": {
          "type": "integer",
          "format": "int32"
        }
      },
      "description": "Запрос подписки на стаканы."
    },
    "v1OrderBookSubscription": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        },
        "depth": {
          "type": "integer",
          "format": "int32"
        },
        "subscriptionStatus": {
          "$ref": "#/definitions/v1SubscriptionStatus"
        }
      },
      "description": "Статус подписки."
    },
    "v1Ping": {
      "type": "object",
      "properties": {
        "time": {
          "type": "string",
          "format": "date-time",
          "description": "Время проверки."
        }
      },
      "description": "Проверка активности стрима."
    },
    "v1Quotation": {
      "type": "object",
      "properties": {
        "units": {
          "type": "string",
          "format": "int64",
          "title": "целая часть суммы, может быть отрицательным числом"
        },
        "nano": {
          "type": "integer",
          "format": "int32",
          "title": "дробная часть суммы, может быть отрицательным числом"
        }
      },
      "title": "Котировка - денежная сумма без указания валюты"
    },
    "v1SecurityTradingStatus": {
      "type": "string",
      "enum": [
        "SECURITY_TRADING_STATUS_UNSPECIFIED",
        "SECURITY_TRADING_STATUS_NOT_AVAILABLE_FOR_TRADING",
        "SECURITY_TRADING_STATUS_OPENING_PERIOD",
        "SECURITY_TRADING_STATUS_CLOSING_PERIOD",
        "SECURITY_TRADING_STATUS_BREAK_IN_TRADING",
        "SECURITY_TRADING_STATUS_NORMAL_TRADING",
        "SECURITY_TRADING_STATUS_CLOSING_AUCTION",
        "SECURITY_TRADING_STATUS_DARK_POOL_AUCTION",
        "SECURITY_TRADING_STATUS_DISCRETE_AUCTION",
        "SECURITY_TRADING_STATUS_OPENING_AUCTION_PERIOD",
        "SECURITY_TRADING_STATUS_TRADING_AT_CLOSING_AUCTION_PRICE",
        "SECURITY_TRADING_STATUS_SESSION_ASSIGNED",
        "SECURITY_TRADING_STATUS_SESSION_CLOSE",
        "SECURITY_TRADING_STATUS_SESSION_OPEN",
        "SECURITY_TRADING_STATUS_DEALER_NORMAL_TRADING",
        "SECURITY_TRADING_STATUS_DEALER_BREAK_IN_TRADING",
        "SECURITY_TRADING_STATUS_DEALER_NOT_AVAILABLE_FOR_TRADING"
      ],
      "default": "SECURITY_TRADING_STATUS_UNSPECIFIED",
      "title": "Режим торгов инструмента"
    },
    "v1SubscribeCandlesRequest": {
      "type": "object",
      "properties": {
        "subscriptionAction": {
          "$ref": "#/definitions/v1SubscriptionAction"
        },
        "instruments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1CandleInstrument"
          }
        }
      },
      "description": "subscribeCandles | Изменения статуса подписки на свечи."
    },
    "v1SubscribeCandlesResponse": {
      "type": "object",
      "properties": {
        "trackingId": {
          "type": "string"
        },
        "candlesSubscriptions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1CandleSubscription"
          }
        }
      },
      "description": "Результат изменения статус подписки на свечи."
    },
    "v1SubscribeInfoRequest": {
      "type": "object",
      "properties": {
        "subscriptionAction": {
          "$ref": "#/definitions/v1SubscriptionAction"
        },
        "instruments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1InfoInstrument"
          }
        }
      },
      "description": "Изменение статуса подписки на торговый статус инструмента."
    },
    "v1SubscribeInfoResponse": {
      "type": "object",
      "properties": {
        "trackingId": {
          "type": "string"
        },
        "infoSubscriptions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1InfoSubscription"
          }
        }
      },
      "description": "Результат изменения статуса подписки на торговый статус."
    },
    "v1SubscribeOrderBookRequest": {
      "type": "object",
      "properties": {
        "subscriptionAction": {
          "$ref": "#/definitions/v1SubscriptionAction"
        },
        "instruments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1OrderBookInstrument"
          }
        }
      },
      "description": "Запрос на изменение статуса подписки на стаканы."
    },
    "v1SubscribeOrderBookResponse": {
      "type": "object",
      "properties": {
        "trackingId": {
          "type": "string"
        },
        "orderBookSubscriptions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1OrderBookSubscription"
          }
        }
      },
      "description": "Результат изменения статуса подписки на стаканы."
    },
    "v1SubscribeTradesRequest": {
      "type": "object",
      "properties": {
        "subscriptionAction": {
          "$ref": "#/definitions/v1SubscriptionAction"
        },
        "instruments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1TradeInstrument"
          }
        }
      },
      "description": "Изменение статуса подписки на поток обезличенных сделок."
    },
    "v1SubscribeTradesResponse": {
      "type": "object",
      "properties": {
        "trackingId": {
          "type": "string"
        },
        "tradeSubscriptions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1TradeSubscription"
          }
        }
      },
      "description": "Результат изменения статуса подписки на поток обезличенных сделок."
    },
    "v1SubscriptionAction": {
      "type": "string",
      "enum": [
        "SUBSCRIPTION_ACTION_UNSPECIFIED",
        "SUBSCRIPTION_ACTION_SUBSCRIBE",
        "SUBSCRIPTION_ACTION_UNSUBSCRIBE"
      ],
      "default": "SUBSCRIPTION_ACTION_UNSPECIFIED",
      "description": "Тип операции со списком подписок."
    },
    "v1SubscriptionInterval": {
      "type": "string",
      "enum": [
        "SUBSCRIPTION_INTERVAL_UNSPECIFIED",
        "SUBSCRIPTION_INTERVAL_ONE_MINUTE",
        "SUBSCRIPTION_INTERVAL_FIVE_MINUTES"
      ],
      "default": "SUBSCRIPTION_INTERVAL_UNSPECIFIED",
      "description": "Интервал свечи."
    },
    "v1SubscriptionStatus": {
      "type": "string",
      "enum": [
        "SUBSCRIPTION_STATUS_UNSPECIFIED",
        "SUBSCRIPTION_STATUS_SUCCESS",
        "SUBSCRIPTION_STATUS_INSTRUMENT_NOT_FOUND",
        "SUBSCRIPTION_STATUS_SUBSCRIPTION_ACTION_IS_INVALID",
        "SUBSCRIPTION_STATUS_DEPTH_IS_INVALID",
        "SUBSCRIPTION_STATUS_INTERVAL_IS_INVALID",
        "SUBSCRIPTION_STATUS_LIMIT_IS_EXCEEDED",
        "SUBSCRIPTION_STATUS_INTERNAL_ERROR"
      ],
      "default": "SUBSCRIPTION_STATUS_UNSPECIFIED",
      "description": "Результат подписки."
    },
    "v1Trade": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        },
        "direction": {
          "$ref": "#/definitions/v1TradeDirection"
        },
        "price": {
          "$ref": "#/definitions/v1Quotation"
        },
        "quantity": {
          "type": "string",
          "format": "int64"
        },
        "time": {
          "type": "string",
          "format": "date-time"
        }
      },
      "description": "Информация о сделке."
    },
    "v1TradeDirection": {
      "type": "string",
      "enum": [
        "TRADE_DIRECTION_UNSPECIFIED",
        "TRADE_DIRECTION_BUY",
        "TRADE_DIRECTION_SELL"
      ],
      "default": "TRADE_DIRECTION_UNSPECIFIED",
      "description": "Направление сделки."
    },
    "v1TradeInstrument": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        }
      },
      "description": "Запрос подписки на поток обезличенных сделок."
    },
    "v1TradeSubscription": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        },
        "subscriptionStatus": {
          "$ref": "#/definitions/v1SubscriptionStatus"
        }
      },
      "description": "Статус подписки."
    },
    "v1TradingStatus": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        },
        "tradingStatus": {
          "$ref": "#/definitions/v1SecurityTradingStatus"
        },
        "time": {
          "type": "string",
          "format": "date-time"
        }
      },
      "description": "Пакет изменения торгового статуса."
    }
  }
}
