{
  "swagger": "2.0",
  "info": {
    "title": "operations.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "OperationsService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {},
  "definitions": {
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "v1BrokerReport": {
      "type": "object",
      "properties": {
        "tradeId": {
          "type": "string"
        },
        "orderId": {
          "type": "string"
        },
        "figi": {
          "type": "string"
        },
        "executeSign": {
          "type": "string"
        },
        "tradeDatetime": {
          "type": "string",
          "format": "date-time"
        },
        "exchange": {
          "type": "string"
        },
        "classCode": {
          "type": "string"
        },
        "direction": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "ticker": {
          "type": "string"
        },
        "price": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "quantity": {
          "type": "string",
          "format": "int64"
        },
        "orderAmount": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "aciValue": {
          "$ref": "#/definitions/v1Quotation"
        },
        "totalOrderAmount": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "brokerCommission": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "exchangeCommission": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "exchangeClearingCommission": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "repoRate": {
          "$ref": "#/definitions/v1Quotation"
        },
        "party": {
          "type": "string"
        },
        "clearValueDate": {
          "type": "string",
          "format": "date-time"
        },
        "secValueDate": {
          "type": "string",
          "format": "date-time"
        },
        "brokerStatus": {
          "type": "string"
        },
        "separateAgreementType": {
          "type": "string"
        },
        "separateAgreementNumber": {
          "type": "string"
        },
        "separateAgreementDate": {
          "type": "string"
        },
        "deliveryType": {
          "type": "string"
        }
      }
    },
    "v1BrokerReportResponse": {
      "type": "object",
      "properties": {
        "generateBrokerReportResponse": {
          "$ref": "#/definitions/v1GenerateBrokerReportResponse"
        },
        "getBrokerReportResponse": {
          "$ref": "#/definitions/v1GetBrokerReportResponse"
        }
      }
    },
    "v1GenerateBrokerReportRequest": {
      "type": "object",
      "properties": {
        "accountId": {
          "type": "string"
        },
        "from": {
          "type": "string",
          "format": "date-time"
        },
        "to": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "v1GenerateBrokerReportResponse": {
      "type": "object",
      "properties": {
        "taskId": {
          "type": "string"
        }
      }
    },
    "v1GetBrokerReportRequest": {
      "type": "object",
      "properties": {
        "taskId": {
          "type": "string"
        },
        "page": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "v1GetBrokerReportResponse": {
      "type": "object",
      "properties": {
        "brokerReport": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1BrokerReport"
          }
        },
        "itemsCount": {
          "type": "integer",
          "format": "int32"
        },
        "pagesCount": {
          "type": "integer",
          "format": "int32"
        },
        "page": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "v1MoneyValue": {
      "type": "object",
      "properties": {
        "currency": {
          "type": "string",
          "title": "строковый ISO-код валюты"
        },
        "units": {
          "type": "string",
          "format": "int64",
          "title": "целая часть суммы, может быть отрицательным числом"
        },
        "nano": {
          "type": "integer",
          "format": "int32",
          "title": "дробная часть суммы, может быть отрицательным числом"
        }
      },
      "title": "Денежная сумма в определенной валюте"
    },
    "v1Operation": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "parentOperationId": {
          "type": "string"
        },
        "currency": {
          "type": "string"
        },
        "payment": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "price": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "state": {
          "$ref": "#/definitions/v1OperationState"
        },
        "quantity": {
          "type": "string",
          "format": "int64"
        },
        "quantityRest": {
          "type": "string",
          "format": "int64"
        },
        "figi": {
          "type": "string"
        },
        "instrumentType": {
          "type": "string"
        },
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "type": {
          "type": "string"
        },
        "operationType": {
          "$ref": "#/definitions/v1OperationType"
        }
      },
      "description": "Данные по операции."
    },
    "v1OperationState": {
      "type": "string",
      "enum": [
        "OPERATION_STATE_UNSPECIFIED",
        "OPERATION_STATE_EXECUTED",
        "OPERATION_STATE_CANCELED"
      ],
      "default": "OPERATION_STATE_UNSPECIFIED",
      "title": "Статус запрашиваемых операций"
    },
    "v1OperationType": {
      "type": "string",
      "enum": [
        "OPERATION_TYPE_UNSPECIFIED",
        "OPERATION_TYPE_INPUT",
        "OPERATION_TYPE_BOND_TAX",
        "OPERATION_TYPE_OUTPUT_SECURITIES",
        "OPERATION_TYPE_OVERNIGHT",
        "OPERATION_TYPE_TAX",
        "OPERATION_TYPE_BOND_REPAYMENT_FULL",
        "OPERATION_TYPE_SELL_CARD",
        "OPERATION_TYPE_DIVIDEND_TAX",
        "OPERATION_TYPE_OUTPUT",
        "OPERATION_TYPE_BOND_REPAYMENT",
        "OPERATION_TYPE_TAX_CORRECTION",
        "OPERATION_TYPE_SERVICE_FEE",
        "OPERATION_TYPE_BENEFIT_TAX",
        "OPERATION_TYPE_MARGIN_FEE",
        "OPERATION_TYPE_BUY",
        "OPERATION_TYPE_BUY_CARD",
        "OPERATION_TYPE_INPUT_SECURITIES",
        "OPERATION_TYPE_SELL_MARGIN",
        "OPERATION_TYPE_BROKER_FEE",
        "OPERATION_TYPE_BUY_MARGIN",
        "OPERATION_TYPE_DIVIDEND",
        "OPERATION_TYPE_SELL",
        "OPERATION_TYPE_COUPON",
        "OPERATION_TYPE_SUCCESS_FEE",
        "OPERATION_TYPE_DIVIDEND_TRANSFER",
        "OPERATION_TYPE_ACCRUING_VARMARGIN",
        "OPERATION_TYPE_WRITING_OFF_VARMARGIN",
        "OPERATION_TYPE_DELIVERY_BUY",
        "OPERATION_TYPE_DELIVERY_SELL",
        "OPERATION_TYPE_TRACK_MFEE",
        "OPERATION_TYPE_TRACK_PFEE",
        "OPERATION_TYPE_TAX_PROGRESSIVE",
        "OPERATION_TYPE_BOND_TAX_PROGRESSIVE",
        "OPERATION_TYPE_DIVIDEND_TAX_PROGRESSIVE",
        "OPERATION_TYPE_BENEFIT_TAX_PROGRESSIVE",
        "OPERATION_TYPE_TAX_CORRECTION_PROGRESSIVE",
        "OPERATION_TYPE_TAX_REPO_PROGRESSIVE",
        "OPERATION_TYPE_TAX_REPO",
        "OPERATION_TYPE_TAX_REPO_HOLD",
        "OPERATION_TYPE_TAX_REPO_REFUND",
        "OPERATION_TYPE_TAX_REPO_HOLD_PROGRESSIVE",
        "OPERATION_TYPE_TAX_REPO_REFUND_PROGRESSIVE",
        "OPERATION_TYPE_DIV_EXT"
      ],
      "default": "OPERATION_TYPE_UNSPECIFIED",
      "title": "Тип операции"
    },
    "v1OperationsResponse": {
      "type": "object",
      "properties": {
        "operations": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1Operation"
          }
        }
      },
      "description": "Список операций."
    },
    "v1PortfolioPosition": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        },
        "instrumentType": {
          "type": "string"
        },
        "quantity": {
          "$ref": "#/definitions/v1Quotation"
        },
        "averagePositionPrice": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "expectedYield": {
          "$ref": "#/definitions/v1Quotation"
        },
        "currentNkd": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "averagePositionPricePt": {
          "$ref": "#/definitions/v1Quotation"
        },
        "currentPrice": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "averagePositionPriceFifo": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "quantityLots": {
          "$ref": "#/definitions/v1Quotation"
        }
      },
      "description": "Позиции портфеля."
    },
    "v1PortfolioResponse": {
      "type": "object",
      "properties": {
        "totalAmountShares": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "totalAmountBonds": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "totalAmountEtf": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "totalAmountCurrencies": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "totalAmountFutures": {
          "$ref": "#/definitions/v1MoneyValue"
        },
        "expectedYield": {
          "$ref": "#/definitions/v1Quotation"
        },
        "positions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1PortfolioPosition"
          }
        }
      },
      "description": "Текущий портфель по счёту."
    },
    "v1PositionsFutures": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        },
        "blocked": {
          "type": "string",
          "format": "int64"
        },
        "balance": {
          "type": "string",
          "format": "int64"
        }
      },
      "description": "Баланс фьючерса."
    },
    "v1PositionsResponse": {
      "type": "object",
      "properties": {
        "money": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1MoneyValue"
          }
        },
        "blocked": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1MoneyValue"
          }
        },
        "securities": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1PositionsSecurities"
          }
        },
        "limitsLoadingInProgress": {
          "type": "boolean"
        },
        "futures": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1PositionsFutures"
          }
        }
      },
      "description": "Список позиций по счёту."
    },
    "v1PositionsSecurities": {
      "type": "object",
      "properties": {
        "figi": {
          "type": "string"
        },
        "blocked": {
          "type": "string",
          "format": "int64"
        },
        "balance": {
          "type": "string",
          "format": "int64"
        }
      },
      "description": "Баланс позиции ценной бумаги."
    },
    "v1Quotation": {
      "type": "object",
      "properties": {
        "units": {
          "type": "string",
          "format": "int64",
          "title": "целая часть суммы, может быть отрицательным числом"
        },
        "nano": {
          "type": "integer",
          "format": "int32",
          "title": "дробная часть суммы, может быть отрицательным числом"
        }
      },
      "title": "Котировка - денежная сумма без указания валюты"
    },
    "v1WithdrawLimitsResponse": {
      "type": "object",
      "properties": {
        "money": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1MoneyValue"
          }
        },
        "blocked": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1MoneyValue"
          }
        },
        "blockedGuarantee": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1MoneyValue"
          }
        }
      },
      "description": "Доступный для вывода остаток."
    }
  }
}
